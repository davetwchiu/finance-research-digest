<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>David | Finance Toolbox v1.1</title>
  <style>
    :root { --bg:#0b1020; --panel:#121936; --panel2:#0f1530; --text:#e8ecff; --muted:#a7b0d6; --accent:#7aa2ff; --line:#243059; }
    *{box-sizing:border-box} body{margin:0;font-family:Inter,-apple-system,Segoe UI,Roboto,sans-serif;background:linear-gradient(180deg,#090e1d,#0c1330);color:var(--text)}
    .wrap{max-width:1200px;margin:0 auto;padding:20px}.topbar{display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap;background:var(--panel);border:1px solid var(--line);border-radius:14px;padding:14px 16px}
    .title{font-size:22px;font-weight:700}.muted{color:var(--muted);font-size:13px}.grid{display:grid;gap:14px;margin-top:14px}.grid-3{grid-template-columns:repeat(3,minmax(0,1fr))}.grid-2{grid-template-columns:repeat(2,minmax(0,1fr))}
    .card{background:var(--panel);border:1px solid var(--line);border-radius:14px;padding:14px} h2{margin:0 0 10px;font-size:16px} h3{margin:10px 0 8px;font-size:14px;color:var(--muted)}
    .chips{display:flex;flex-wrap:wrap;gap:8px}.chip{padding:6px 10px;border-radius:999px;border:1px solid #334074;background:var(--panel2);font-size:12px}
    a.btn,button.btn{display:inline-block;text-decoration:none;color:#08112f;background:var(--accent);font-weight:600;padding:9px 12px;border-radius:10px;margin-right:8px;border:0;cursor:pointer}
    a.btn.ghost,button.btn.ghost{color:var(--text);background:transparent;border:1px solid #3a4c88}
    input{background:#0a1130;border:1px solid #304278;border-radius:8px;color:var(--text);padding:8px 10px;width:220px}
    .row{display:flex;gap:8px;flex-wrap:wrap;align-items:center}.footer{margin-top:16px;font-size:12px;color:var(--muted)}
    @media (max-width:980px){.grid-3,.grid-2{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="topbar">
      <div><div class="title">Finance Toolbox v1.1</div><div class="muted">Built for David • Daily research + breaking alerts</div></div>
      <div class="muted">Last updated: 2026-02-24 (HKT)</div>
    </div>

    <div class="grid grid-3">
      <div class="card"><h2>Latest Report</h2><p class="muted">Detailed daily finance report.</p><a class="btn" href="./index.html">Open latest</a></div>
      <div class="card"><h2>Breaking Alerts</h2><p class="muted">Material events only.</p><a class="btn ghost" href="./reports/breaking/">Open timeline</a></div>
      <div class="card"><h2>Archive</h2><p class="muted">Daily snapshots.</p><a class="btn ghost" href="./reports/">Open archive</a></div>
    </div>

    <div class="grid grid-2">
      <div class="card">
        <h2>Watchlist (Editable)</h2>
        <div id="watchlistChips" class="chips"></div>
        <h3>Edit</h3>
        <div class="row">
          <input id="tickerInput" placeholder="Add ticker (e.g. AMD)" maxlength="10" />
          <button class="btn" onclick="addTicker()">Add</button>
          <button class="btn ghost" onclick="removeTicker()">Remove</button>
        </div>
        <div class="row" style="margin-top:8px">
          <button class="btn ghost" onclick="copyList()">Copy list</button>
          <button class="btn ghost" onclick="resetDefault()">Reset default</button>
          <span class="muted">This saves on this device/browser.</span>
        </div>
      </div>

      <div class="card">
        <h2>TA Trial Panel</h2>
        <p class="muted">Pilot names: NVDA / TSLA / PLTR (daily + 4H trend, levels, invalidation).</p>
        <p class="muted">Tip: after editing watchlist, send me “update cron watchlist to: ...” and I’ll sync automation.</p>
      </div>
    </div>

    <div class="footer">v1.1 added local watchlist editor.</div>
  </div>

<script>
const DEFAULTS=["AAPL","AVGO","BBAI","KTOS","MSFT","NVDA","ONDS","PLTR","RDW","RKLB","TSLA","TSM","UUUU","GOOG","IBM","BRK.B"];
function load(){try{return JSON.parse(localStorage.getItem('watchlist_v1'))||DEFAULTS}catch{return DEFAULTS}}
function save(list){localStorage.setItem('watchlist_v1',JSON.stringify(list));render()}
function render(){const list=load();const box=document.getElementById('watchlistChips');box.innerHTML='';list.forEach(t=>{const s=document.createElement('span');s.className='chip';s.textContent=t;box.appendChild(s);});}
function norm(v){return v.trim().toUpperCase()}
function addTicker(){const i=document.getElementById('tickerInput');const t=norm(i.value);if(!t)return;const list=load();if(!list.includes(t)){list.push(t);save(list);}i.value='';}
function removeTicker(){const i=document.getElementById('tickerInput');const t=norm(i.value);if(!t)return;const list=load().filter(x=>x!==t);save(list);i.value='';}
function resetDefault(){save([...DEFAULTS]);}
async function copyList(){const txt=load().join(', ');try{await navigator.clipboard.writeText(txt);alert('Copied: '+txt)}catch{prompt('Copy list:',txt)}}
render();
</script>
</body>
</html>